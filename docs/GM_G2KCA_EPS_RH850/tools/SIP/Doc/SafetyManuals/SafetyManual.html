---
layout: default
title: SafetyManual
nav_order: 37
parent: Implementation
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p>Safety Manual</p>
<p><b>MICROSAR Safe</b></p>
<p>Draft</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1  General Part</b></p>
<p><b>1.1  Introduction</b></p>
<p><b>1.1.1  Purpose</b></p>
<p>This document describes the assumptions made by Vector during the development of</p>
<p>MICROSAR   Safe   [2].   This   document   provides   information   on   how   to   integrate</p>
<p>MICROSAR Safe into your safety-related project. </p>
<p>This document is intended for the use by the user of MICROSAR Safe. It should be</p>
<p>read by project managers, safety managers, and engineers to allow proper integration</p>
<p>of MICROSAR Safe.</p>
<p><b>1.1.2  Scope</b></p>
<p>This document covers aspects of components that are marked with an ASIL in the</p>
<p>delivery   description   provided   by   Vector.   Neither   QM   Vector   components,   nor</p>
<p>components by other venders are in the scope of this document.</p>
<p><b>1.1.3  Definitions</b></p>
<p><b>Term</b></p>
<p><b>Definition</b></p>
<p>User of</p>
<p>MICROSAR Safe</p>
<p>Integrator of components provided by Vector.</p>
<p>MICROSAR Safe MICROSAR Safe comprises MICROSAR SafeBSW and</p>
<p>MICROSAR SafeRTE as Safety Element out of Context.</p>
<p>MICROSAR SafeBSW is a set of components, that are developed</p>
<p>according to ISO 26262 [1], and are provided by Vector in the</p>
<p>context of this delivery. The list of MICROSAR Safe components in</p>
<p>this delivery can be taken from the documentation of the delivery. </p>
<p>Critical section</p>
<p>A section of code that needs</p>
<p>Configuration</p>
<p>data</p>
<p>TBD</p>
<p>Generated code</p>
<p>Source code that is generated as a result of the configuration in</p>
<p>DaVinci Configurator Pro</p>
<p>Partition</p>
<p>A set of memory regions that is accessible by tasks and ISRs.</p>
<p>Synonym to OSApplication.</p>
<p>The words <i>shall</i>, <i>shall not</i>, <i>should</i>, <i>can </i>in this document are to be interpreted as</p>
<p>described here: </p>
<p>1.</p>
<p><i>Shall </i>means that the definition is an absolute requirement of the specification.</p>
<p>2.</p>
<p><i>Shall not </i>means that the definition is an absolute prohibition of the specification.</p>
<p>3.</p>
<p><i>Should </i>means that there may exist valid reasons in particular circumstances to</p>
<p>ignore a particular definition, but the full implications must be understood and</p>
<p>carefully weighed before choosing a different course.</p>
<p>4.</p>
<p><i>Can </i>means that a definition is truly optional.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>2 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p>The user of MICROSAR Safe can deviate from all constraints and requirements in this</p>
<p>Safety   Manual   in   the   responsibility   of   the   user   of   MICROSAR   Safe,   if   equivalent</p>
<p>measures are used.</p>
<p>If   a   measure   is   equivalent   can   be   decided   in   the   responsibility   of   the   user   of</p>
<p>MICROSAR Safe. </p>
<p><b>1.1.4  References</b></p>
<p><b>No.</b></p>
<p><b>Source Title</b></p>
<p><b>Version</b></p>
<p>[1]</p>
<p>ISO</p>
<p>ISO 26262 Road vehicles — Functional safety (all parts)</p>
<p>2011/2012</p>
<p>[2]</p>
<p>Vector</p>
<p>ISO 26262 Compliance Documentation</p>
<p>TBD</p>
<p>[3]</p>
<p>Vector</p>
<p>Product Information MICROSAR Safe</p>
<p>TBD</p>
<p>[4]</p>
<p>Vector</p>
<p>Technical Reference MICROSAR Safe Silence Verifier</p>
<p>1.4</p>
<p><b>1.1.5  Overview</b></p>
<p>This document is automatically generated. The content of this document depends on</p>
<p>the components and micro-controller of your delivery.</p>
<p>The structure of this document comprises:</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>a general section that covers all assumptions and constraints that are always</p>
<p>applicable, and</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>a micro-controller specific section that covers all aspects of the selected micro-</p>
<p>controller (only if micro-controller specific components are part of the delivery),</p>
<p>and</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>a section for each component that covers its constraints and necessary verification</p>
<p>steps.</p>
<p>Vector's assumptions on the environment of the MICROSAR Safe components as well</p>
<p>as the integration process are described.</p>
<p><b>1.2  Concept</b></p>
<p>MICROSAR Safe comprises a set of components developed according to ISO 26262.</p>
<p>These components can be combined - together with other measures - to build a safe</p>
<p>system according to ISO 26262.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>3 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1.2.1  Assumed technical safety requirements</b></p>
<p><b>1.2.2  Assumed environment</b></p>
<p>ID: SMI-1</p>
<p> </p>
<p><b>Vector assumes that hardware faults are adequately addressed by the user</b></p>
<p><b>of MICROSAR Safe. </b></p>
<p>The components of MICROSAR Safe can support in the detection and handling</p>
<p>of some hardware faults.</p>
<p>MICROSAR Safe does not provide redundant data storage.</p>
<p>The user of MICROSAR Safe especially has to address faults in volatile random</p>
<p>access memory, non-volatile memory, e.g. flash or EEPROM, and the CPU.</p>
<p>See also SMI-14. </p>
<p>ID: SMI-17</p>
<p> </p>
<p><b>Vector   assumes   that   hardware   and   compiler   manuals   are   correct   and</b></p>
<p><b>complete. </b></p>
<p>Vector uses the hardware reference manuals and compiler manuals for the</p>
<p>development of MICROSAR Safe. Vector has no means to verify correctness or</p>
<p>completeness of the hardware and compiler manuals.</p>
<p>Example information that may be critical from these manuals is the register</p>
<p>assignment by compiler. This information is used to built up the context that is</p>
<p>saved and restored by the operating system. </p>
<p>ID: SMI-2</p>
<p> </p>
<p><b>Vector assumes that the platform types selected by the user of MICROSAR</b></p>
<p><b>Safe adequately reflect the hardware and compiler environment. </b></p>
<p>The user of MICROSAR Safe is responsible for selecting the correct platform</p>
<p>types (PlatformTypes.h). Especially the size of the predefined types must match</p>
<p>the target environment.</p>
<p>Example: A uint32 must be mapped to an unsigned integer type with a size of 32</p>
<p>bits.</p>
<p>The user of MICROSAR Safe can use the platform types provided by Vector.</p>
<p>Vector has created and verified the platform types mapping according to the</p>
<p>information provided by the user of MICROSAR Safe. </p>
<p>ID: SMI-10</p>
<p> </p>
<p><b>Vector assumes that the reset or powerless state is a safe state of the</b></p>
<p><b>system. </b></p>
<p>This assumption is added to this Safety Manual, because it is used in Vector's</p>
<p>safety analyses and development process.</p>
<p>ID: SMI-12</p>
<p> </p>
<p><b>Vector assumes that the user of MICROSAR Safe initializes all components</b></p>
<p><b>of MICROSAR Safe prior to using them. </b></p>
<p>This constraint is required by AUTOSAR anyway. It is added to this Safety</p>
<p>Manual, because Vector assumes initialized components in its safety analyses</p>
<p>and development process.</p>
<p>Correct initialization can be verified, e.g. during integration testing. </p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>4 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p>ID: SMI-16</p>
<p> </p>
<p><b>Vector   assumes   that   the   user   of   MICROSAR   Safe   only   passes   valid</b></p>
<p><b>pointers at all interfaces to MICROSAR Safe components. </b></p>
<p>Plausibility checks on pointers are performed by MICROSAR Safe (see also</p>
<p>SMI-18), but they are limited.</p>
<p>Also   the   length   and   pointer   of   a   buffer   provided   to   a   MICROSAR   Safe</p>
<p>component need to be consistent.</p>
<p>This assumption also applies to QM as well as ASIL components.</p>
<p>This can e.g. be verified using static code analysis tools, reviews and integration</p>
<p>testing. </p>
<p>ID: SMI-20</p>
<p> </p>
<p><b>Vector assumes that the user of MICROSAR Safe implements a timing</b></p>
<p><b>monitoring using e.g. a watchdog. </b></p>
<p>The components of MICROSAR Safe do not provide mechanisms to monitor</p>
<p>their own timing behavior.</p>
<p>Vector's MICROSAR Safe.Watchdog can be used to fulfill this assumption.</p>
<p>If   the   functional   safety   concept   also   requires   a   logic   monitoring,   Vector's</p>
<p>MICROSAR Safe.Watchdog can be used to implement it.</p>
<p>See also SMI-14. </p>
<p>ID: SMI-33</p>
<p> </p>
<p><b>Vector   assumes   that   the   user   of   MICROSAR   Safe   provides   sufficient</b></p>
<p><b>resources in RAM, ROM, stack and CPU runtime for MICROSAR Safe. </b></p>
<p>Selection of the micro-controller and memory capacities as well as dimensioning</p>
<p>of the stacks is in the responsibility of the user of MICROSAR Safe.</p>
<p>If   MICROSAR   Safe   components   have   specific   requirements,   these   are</p>
<p>documented in the respective Technical Reference document. </p>
<p>ID: SMI-9</p>
<p> </p>
<p><b>Vector assumes that for one AUTOSAR functional cluster (e.g. System</b></p>
<p><b>Services,   Operating   System,   CAN,   COM,   etc.)   only   components   from</b></p>
<p><b>Vector are used. </b></p>
<p>This assumption is required because of dependencies within the development</p>
<p>process of Vector.</p>
<p>This assumption does not apply to the MCAL or the EXT cluster.</p>
<p>Vector may have requirements on MCAL or EXT components depending on the</p>
<p>upper layers that are used and provided by Vector. For example, the watchdog</p>
<p>driver is considered to have safety requirements allocated to its initialization and</p>
<p>triggering services. Details are described in the component specific parts of this</p>
<p>safety manual.</p>
<p>The only exception to this assumption is the Flash EEPROM Emulation (FEE)</p>
<p>for Infineon micro-controllers. Vector does not provide a FEE for Infineon micro-</p>
<p>controllers. </p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>5 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p>ID: SMI-32</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall provide an argument for coexistence for</b></p>
<p><b>software   that   resides   in   the   same   partition   as   components   from</b></p>
<p><b>MICROSAR Safe. </b></p>
<p>Vector considers an ISO 26262-compliant development process for the software</p>
<p>as an argument for coexistence (see [1] Part 9 Clause 6). </p>
<p>Redundant data storage as the only measure by the other software is not</p>
<p>considered a sufficient measure.</p>
<p>If ASIL components provided by Vector are used, this requirement is fulfilled. </p>
<p><b>1.2.3  Assumed process</b></p>
<p>ID: SMI-14</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall be responsible for the functional safety</b></p>
<p><b>concept. </b></p>
<p>The   overall   functional   safety   concept   is   in   the   responsibility   of   the   user   of</p>
<p>MICROSAR Safe. MICROSAR Safe can only provide parts that can be used to</p>
<p>implement the functional safety concept of the item.</p>
<p>ID: SMI-3</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall evaluate all tools (incl. compiler) that are</b></p>
<p><b>used by the user of MICROSAR Safe according to ISO 26262:8-11. </b></p>
<p>Evaluation especially has to be performed for the compiler, linker, debugging</p>
<p>and test tools.</p>
<p>Vector provides a guideline for the evaluation of the Tool Confidence Level</p>
<p>(TCL) for the tools provided by Vector (e.g. DaVinci Configurator).</p>
<p>Vector   has   evaluated   the   tools   exclusively   used   by   Vector   during   the</p>
<p>development of MICROSAR Safe. </p>
<p>ID: SMI-4</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall perform the integration (ISO 26262:6-10)</b></p>
<p><b>and verification (ISO 26262:6-11) processes as required by ISO 26262. </b></p>
<p>Especially the safety mechanisms must be verified in the final target ECU.</p>
<p>Vector assumes that by performing the integration and verification processes as</p>
<p>required by ISO 26262 the generated configuration data, e.g. data tables, task</p>
<p>priorities or PDU handles, are sufficiently checked. An additional review of the</p>
<p>configuration data is then considered not necessary.</p>
<p>Integration does not apply to a MICROSAR Safe component that consists of</p>
<p>several   subcomponents.   This   integration   is   already   performed   by   Vector.</p>
<p>However, integration of all MICROSAR Safe components in the specific use-</p>
<p>case   of   the   user   of   MICROSAR   Safe   is   the   responsiblity   of   the   user   of</p>
<p>MICROSAR Safe.</p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>6 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p>ID: SMI-5</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify all code that is changed during</b></p>
<p><b>integration of MICROSAR Safe. </b></p>
<p>Code that is typically changed by the user of MICROSAR Safe during integration</p>
<p>comprises generated templates, hooks, callouts, or similar.</p>
<p>This   assumption   also   applies   if   interfaces   between   components   are   looped</p>
<p>through user-defined functions.</p>
<p>Vector assumes that this verification also covers ISO 26262:6-9.</p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p>ID: SMI-30</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall only modify source code of MICRSAR</b></p>
<p><b>Safe that is explicitly allowed to be changed. </b></p>
<p>Usually no source code of MICROSAR Safe is allowed to be changed by the</p>
<p>user of MICROSAR Safe.</p>
<p>The user of MICROSAR Safe can check if the source code was modified by e.g,</p>
<p>comparing it to the original delivery. </p>
<p>ID: SMI-8</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify generated functions according to</b></p>
<p><b>ISO 26262:6-9. </b></p>
<p>Generated functions can be identified when searching through the generated</p>
<p>code.</p>
<p>Support by Vector can be requested on a per-project basis.</p>
<p>An   example   of   generated   functions   are   the   configured   rules   of   the   Basic</p>
<p>Software Manager (BSWM). Their correctness can only be verified by the user</p>
<p>of MICROSAR Safe. Please note, however, that BSWM does not provide safety</p>
<p>features. </p>
<p>ID: SMI-11</p>
<p> </p>
<p><b>The   user   of   MICROSAR   Safe   shall   ensure   data   consistency   for   its</b></p>
<p><b>application. </b></p>
<p>Data consistency is not automatically provided when using MICROSAR Safe.</p>
<p>MICROSAR   Safe   only   provides   services   to   support   enforcement   of   data</p>
<p>consistency. Their application is in the responsibility of the user of MICROSAR</p>
<p>Safe.</p>
<p>To   ensure   data   consistency   in   an   application,   critical   section   need   to   be</p>
<p>identified and protected.</p>
<p>To identify critical sections in the code, e.g. review or static code analysis can be</p>
<p>used.</p>
<p>To protect critical sections, e.g. the services to disable and enable interrupts</p>
<p>provided by the MICROSAR Safe operating system can be used.</p>
<p>To verify correctly implemented protection, e.g. stress testing or review can be</p>
<p>used.</p>
<p>Note the AUTOSAR specification with respect to nesting and sequence of calls</p>
<p>to interrupt enabling and disabling functions. </p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>7 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p>ID: SMI-15</p>
<p> </p>
<p><b>The   user   of   MICROSAR   Safe   shall   follow   the   instructions   of   the</b></p>
<p><b>corresponding Technical Reference of the components. </b></p>
<p>Especially   deviations   from   AUTOSAR   specifications   are   described   in   the</p>
<p>Technical References.</p>
<p>The possible implementations of exclusive areas are described in the Technical</p>
<p>References. </p>
<p>ID: SMI-19</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall execute the MICROSAR Safe Silence</b></p>
<p><b>Verifier (MSSV). </b></p>
<p>Details on the required command line arguments and integration into the tool</p>
<p>chain can be found in [4].</p>
<p>If the report shows “Overall Check Result: Fail&quot;, please contact the Safety</p>
<p>Manager at Vector. See the Product Information MICROSAR Safe [3] for more</p>
<p>the contact details. </p>
<p>ID: SMI-31</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify the consistency of the binary</b></p>
<p><b>downloaded into the ECU's flash memory. </b></p>
<p>This also includes re-programming of flash memory via a diagnostics service.</p>
<p>The consistency of the downloaded binary can be checked by the bootloader or</p>
<p>the application. MICROSAR Safe assumes a correct program image.</p>
<p>ID: SMI-18</p>
<p> </p>
<p><b>The   user   of   MICROSAR   Safe   shall   enable   plausibility   checks   for   the</b></p>
<p><b>MICROSAR Safe components. </b></p>
<p>This   setting   is   necessary   to   increase   fault   detection   and   prevent   fault</p>
<p>propagation.</p>
<p>This</p>
<p> </p>
<p>setting  </p>
<p>can  </p>
<p>be  </p>
<p>found  </p>
<p>at</p>
<p> </p>
<p>/MICROSAR/EcuC/EcucGeneral/</p>
<p>EcuCSafeBswChecks in the DaVinci Configurator.</p>
<p>This setting does not enable error reporting to the DET component.</p>
<p>This setting is enforced by an MSSV plug-in. </p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>8 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>2  Derivative-specific Part</b></p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>9 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3  Component-specific Part</b></p>
<p><b>3.1  Safety Manual Crc</b></p>
<p><b>3.1.1  Safety features</b></p>
<p>Crc provides the following safety features:</p>
<p>ID</p>
<p>Safety feature</p>
<p>CREQ-858 Crc shall provide a service to calculate 8-bit SAE-J1850 CRC.</p>
<p>CREQ-859 Crc shall provide a service to calculate 8-bit 0x2F CRC.</p>
<p>CREQ-860 Crc shall provide a service to calculate 16-bit CCITT CRC.</p>
<p>CREQ-861 Crc shall provide a service to calculate 32-bit IEEE-802.3 CRC.</p>
<p>CREQ-862 Crc shall provide a service to calculate 32-bit E2E Profile 4 CRC.</p>
<p><b>3.1.2  Configuration constraints</b></p>
<p>This component has no configuration constraints.</p>
<p><b>3.1.3  Additional verification measurse</b></p>
<p>ID: SMI-49</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify that the CRC is calculated for the</b></p>
<p><b>intended data.</b></p>
<p>This includes the intended buffer and its size (see also SMI-16), start value and</p>
<p>if it is the first call to the service.</p>
<p>Verification can be performed by the &quot;magic check&quot; (see AUTOSAR SWS Crc). </p>
<p>If   Crc   is   used   by   a   MICROSAR   Safe   component   (e.g.   E2E,   NvM),   this</p>
<p>requirement is fulfilled for the MICROSAR Safe component.</p>
<p><b>3.1.4  Dependencies to other components</b></p>
<p><b>3.1.4.1  Safety features required from other components</b></p>
<p>This component does not require safety features from other components.</p>
<p><b>3.1.4.2  Coexistence with other components</b></p>
<p>This component does not require coexistence with other components.</p>
<p>It is assumed that the user of Crc has the adequate ASIL.</p>
<p><b>3.1.5  Dependencies to hardware</b></p>
<p>This component does not use a direct hardware interface.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>10 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3.2  Safety Manual NvM</b></p>
<p><b>3.2.1  Safety features</b></p>
<p>ID: SMI-21</p>
<p> </p>
<p><b>NvM provides the following safety features:</b></p>
<p>ID</p>
<p>Safety feature</p>
<p>CREQ-724</p>
<p>NvM shall provide a service to read a single NvM block from</p>
<p>NVRAM.</p>
<p>CREQ-725</p>
<p>NvM shall provide a service to write a single NvM block to</p>
<p>NVRAM.</p>
<p>CREQ-730</p>
<p>NvM shall provide a service to read all possbile NvM blocks</p>
<p>from NVRAM.</p>
<p>CREQ-731</p>
<p>NvM shall provide a service to write all possible NvM blocks</p>
<p>to NVRAM.</p>
<p>CREQ-746</p>
<p>NvM shall provide configurable callbacks to synchronize</p>
<p>block data.</p>
<p>NvM can detect missing, corruption and masquerading (lower layers provide the</p>
<p>wrong block) of NvM blocks.</p>
<p>ID: SMI-29</p>
<p> </p>
<p><b>The user of MICROSAR Safe must design the system in a way that in case</b></p>
<p><b>of   the   absence   of  </b></p>
<p><b>20</b></p>
<p><b>11</b></p>
<p><b>non volatile   data   it   is   still   safe   (e.g.   safe   state   or</b></p>
<p><b>degradation). It cannot be assured by the memory stack that data is saved</b></p>
<p><b>completely or at all because a reset or loss of energy might happen at any</b></p>
<p><b>time, e.g. brown-out, black-out.</b></p>
<p><b>This also implies that it is in general impossible to guarantee that the latest</b></p>
<p><b>information is available in the non-volatile memory, e.g. the system is reset</b></p>
<p><b>before memory stack is even notified to write data to non-volatile memory.</b></p>
<p><b>Thus, safety-related functionality may not rely on the availability of data in</b></p>
<p><b>non-volatile memory.</b></p>
<p><b>Since the availability of data in non-volatile memory cannot be guaranteed</b></p>
<p><b>in   any   case,   the   only   sensible   use-case   is   reading   safety-related</b></p>
<p><b>calibration data.</b></p>
<p><b>Writing of data into non-volatile memory must be verified to assure that the</b></p>
<p><b>information is available in non-volatile memory. Verification can only be</b></p>
<p><b>done   manually   in   a   protected   environment,   e.g.   at   end   of   line,   in   a</b></p>
<p><b>workshop, etc.</b></p>
<p><b>ECU software cannot verify if data was written, since at any time a reset</b></p>
<p><b>could occur and the information that had to be written is lost immediately.</b></p>
<p><b>Reading of data does not modify data stored in non-volatile memory. Thus,</b></p>
<p><b>reading can be used by safety-related functionality. The memory stack</b></p>
<p><b>assures that the read data is identical to the data stored in non-volatile</b></p>
<p><b>memory.</b></p>
<p><b>The availability may be increased by e.g. redundant storage. </b></p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>11 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3.2.2  Configuration constraints</b></p>
<p>ID: SMI-25</p>
<p> </p>
<p><b>The   user   of   MICROSAR   Safe   shall   configure   and   verify   the   following</b></p>
<p><b>attributes for each NvM block that contains safety-related data: </b></p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Set /MICROSAR/NvM/NvMBlockDescriptor/NvMBlockUseCrc to TRUE.</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Set</p>
<p> </p>
<p>/MICROSAR/NvM/NvMBlockDescriptor/NvMBlockCrcType</p>
<p> </p>
<p>to</p>
<p>NVM_CRC32.</p>
<p>ID: SMI-26</p>
<p> </p>
<p><b>The   user   of   MICROSAR   Safe   shall   configure   and   verify   the   following</b></p>
<p><b>attribute:</b></p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Set /MICROSAR/NvM/NvMCommon/NvMUseBlockIdCheck to TRUE.</p>
<p>ID: SMI-24</p>
<p> </p>
<p><b>The   user   of   MICROSAR   Safe   shall   enable   and   verify   the   following</b></p>
<p><b>configuration parameters:</b></p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkStatusUninit</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkParamPointer</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkParamDataIndex</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkDoParamChk</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkParamBlockid</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkMngmtType</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkBlockProtection</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkBlockPending</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkRamBlockLengths</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkRomBlockLengths</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/NvM/NvMCommonVendorParams/NvMDevErrorChecks/</p>
<p>NvMCfgChkBlockLengthStrict</p>
<p>Note: These parameters are enabled by default.</p>
<p><b>3.2.3  Additional verification measures</b></p>
<p>ID: SMI-22</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall pass the intended block ID for reading</b></p>
<p><b>and writing of a single NvM block. NvM cannot detect if an unintended, but</b></p>
<p><b>configured block is provided by the user. </b></p>
<p><b>Verification can be performed during integration testing. </b></p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>12 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p>ID: SMI-23</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify that the buffer passed for reading</b></p>
<p><b>and writing of a single NvM block has to be valid and sufficiently large for</b></p>
<p><b>the passed block ID.</b></p>
<p><b>Verification can be performed by a review of the generated configuration</b></p>
<p><b>and the code passing the pointer and block ID to the NvM. </b></p>
<p>ID: SMI-48</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify the size of the internal NvM buffer.</b></p>
<p>The buffer has the symbol name NvM_InternalBuffer_au8.</p>
<p>The buffer is generated when at least one of the following features is used: </p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>explicit synchronization</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>repair of redundant blocks</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>blocks with CRC protection</p>
<p>The buffer size shall be at least the size of the largest NVM block plus the size of</p>
<p>the configured CRC value.</p>
<p>Verification can be performed e.g. by review.</p>
<p><b>3.2.4  Dependencies to other components</b></p>
<p><b>3.2.4.1  Safety features required from other components</b></p>
<p>ID: SMI-28</p>
<p> </p>
<p><b>The used Crc library shall provide the CRC calculation routines as safety</b></p>
<p><b>feature.</b></p>
<p><b>If the Crc library from MICROSAR Safe is used, this dependency is fulfilled.</b></p>
<p><b>3.2.4.2  Coexistence with other components</b></p>
<p>ID: SMI-27</p>
<p> </p>
<p><b>This component requires coexistence with Dem, MemIf, RTE, BswM, and</b></p>
<p><b>Det components if the interface for those components is configured.</b></p>
<p><b>3.2.5  Dependencies to hardware</b></p>
<p>This component does not use a direct hardware interface.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>13 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3.3  Safety Manual EcuM</b></p>
<p><b>3.3.1  Safety features</b></p>
<p>ID: SMI-34</p>
<p> </p>
<p><b>EcuM provides the following safety features:</b></p>
<p>ID</p>
<p>Safety feature</p>
<p>CREQ-543</p>
<p>EcuM shall perform validation of all postbuild configurable</p>
<p>BSW module configuration parameters.</p>
<p>CREQ-375</p>
<p>EcuM shall provide a callout to set programmable interrupts</p>
<p>during the startup phase.</p>
<p>CREQ-525</p>
<p>EcuM shall provide a callout to initialize driver prior the start of</p>
<p>the OS.</p>
<p>CREQ-488</p>
<p>EcuM shall provide a callout to determine the Postbuild</p>
<p>configuration data.</p>
<p>CREQ-505</p>
<p>EcuM shall provide a callout to initialize drivers prior Postbuild</p>
<p>data is available.</p>
<p>CREQ-391</p>
<p>EcuM shall provide a callout to reset the ECU.</p>
<p>CREQ-381</p>
<p>EcuM shall provide a callout to generate a RAM Hash.</p>
<p>CREQ-440</p>
<p>EcuM shall provide a callout to check the RAM Hash.</p>
<p>CREQ-509</p>
<p>EcuM shall provide a callout to re-initialize drivers during a</p>
<p>restart.</p>
<p>CREQ-445</p>
<p>EcuM shall provide a service to set the current shutdown</p>
<p>target of the ECU.</p>
<p>CREQ-372</p>
<p>EcuM shall provide a service to initiate the ECU shutdown</p>
<p>depending on the shutdown target.</p>
<p>CREQ-431</p>
<p>EcuM shall provide a callout to notify Errors from the ECU</p>
<p>management.</p>
<p>CREQ-421</p>
<p>EcuM shall provide a service to complete the ECU shutdown</p>
<p>process.</p>
<p>Note: RAM Hash generation and checking callouts are only available when</p>
<p>sleep modes are configured.</p>
<p>ID: SMI-38</p>
<p> </p>
<p><b>If EcuM service to complete the shutdown process is called prior to initiate</b></p>
<p><b>the shutdown process, no shutdown will be performed.</b></p>
<p><b>3.3.2  Configuration constraints</b></p>
<p>ID: SMI-37</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall configure the following attribute:</b></p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Set /MICROSAR/EcuM/EcuMGeneral/EcuMEnableFixBehavior to FALSE.</p>
<p>This setting is enforced by a MSSV plugin.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>14 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p>ID: SMI-36</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall configure the following attribute:</b></p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Set</p>
<p> </p>
<p>/MICROSAR/EcuM/EcuMFlexGeneral/EcuMEnableDefBehaviour</p>
<p> </p>
<p>to</p>
<p>FALSE.</p>
<p>This setting is enforced by a MSSV plugin.</p>
<p><b>3.3.3  Additional verification measurse</b></p>
<p>ID: SMI-39</p>
<p> </p>
<p><b>The   user   of   MICROSAR   Safe   shall   verify   the   intended   initialization</b></p>
<p><b>procedure during integration testing.</b></p>
<p>The user of MICROSAR Safe can verify the intended initialization procedure by</p>
<p>performing the following tests:</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Start the ECU and verify that the intended initalization routines are called.</p>
<p>This needs to be verified for each Postbuild-selectable configuration.</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Corrupt   the   Postbuild   data   (but   not   corresponding   CRC)   in   non-volatile</p>
<p>memory and start the ECU. Then verify that the corruption is detected by</p>
<p>EcuM.</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Start the ECU and verify that the intended Postbuild-selectable configuration</p>
<p>is used by the EcuM. This needs to be verified for each Postbuild-selectable</p>
<p>configuration.</p>
<p>A start of the ECU includes a &quot;cold-start&quot;, reset as well as wake-up from sleep if</p>
<p>applicable.</p>
<p>This requirement only applies if TSR-1 is considered a safety requirement.</p>
<p>ID: SMI-35</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify the intended shutdown procedure</b></p>
<p><b>during integration testing.</b></p>
<p>The user of MICROSAR Safe can verify the intended shutdown procedure by</p>
<p>shutting down the ECU with all configured shutdown paths. A shutdown path is</p>
<p>considered a call to the service that sets the current shutdown target with a</p>
<p>relevant   (e.g.   combination   used   to   achieve   safe   state)   combination   of   its</p>
<p>parameters. For each shutdown path the intended final state of the ECU (e.g.</p>
<p>sleep, shutdown, reset) and the method of reset (e.g. using MCU or Watchdog)</p>
<p>is used.</p>
<p>The user of MICROSAR Safe shall also consider the service to initiate the ECU</p>
<p>shutdown depending on the shutdown target as a possible shutdown path.</p>
<p>The user of MICROSAR Safe shall also verify the default shutdown target.</p>
<p>This requirement only applies if TSR-3 is considered a safety requirement.</p>
<p>ID: SMI-40</p>
<p> </p>
<p><b>The user of MICROSAR Safe shall verify that the memory region used for</b></p>
<p><b>RAM hash generation and verification is as intended.</b></p>
<p>Verification can be e.g. performed by review.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>15 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3.3.4  Dependencies to other components</b></p>
<p><b>3.3.4.1  Safety features required from other components</b></p>
<p>ID: SMI-42</p>
<p> </p>
<p><b>The used operating system shall provide the service to get the core ID as</b></p>
<p><b>safety feature.</b></p>
<p>If the operating system from MICROSAR Safe is used, this dependency is</p>
<p>fulfilled.</p>
<p>This requirement only applies if TSR-1 is considered a safety requirement.</p>
<p><b>3.3.4.2  Coexistence with other components</b></p>
<p>ID: SMI-41</p>
<p> </p>
<p><b>This component requires coexistence with RTE, BswM, ComM, Dem, Gpt,</b></p>
<p><b>MCU   and   Det   components   if   the   interface   for   those   components   is</b></p>
<p><b>configured.</b></p>
<p><b>3.3.5  Dependencies to hardware</b></p>
<p>This component does not use a direct hardware interface.</p>
<p><b>3.4  Safety Manual Det</b></p>
<p><b>3.4.1  Safety features</b></p>
<p>This component does not provide safety features.</p>
<p><b>3.4.2  Configuration constraints</b></p>
<p>This component does not have configuration constraints.</p>
<p>ID: SMI-60</p>
<p> </p>
<p><b>The Det should not be used in series production. If it is used in series</b></p>
<p><b>production the extended debug features shall be switched off, because</b></p>
<p><b>they are only relevant if a debugger is attached.</b></p>
<p>The user of MICROSAR Safe shall configure and verify the following attribute:</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>/MICROSAR/Det/DetGeneral/DetExtDebugSupport = False</p>
<p><b>3.4.3  Additional Verification measures</b></p>
<p>This component does not require additional verification measures.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>16 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3.4.4  Dependencies to other components</b></p>
<p><b>3.4.4.1  Safety features required from other components</b></p>
<p>This component does not require safety features from other components.</p>
<p><b>3.4.4.2  Coexistence with other components</b></p>
<p>ID: SMI-54</p>
<p> </p>
<p><b>This component requires coexistence with Dlt component if the interface</b></p>
<p><b>for this component is configured. Callouts used during series production</b></p>
<p><b>must also provide an argument for coexistence.</b></p>
<p><b>3.4.5  Dependencies to hardware</b></p>
<p>This component does not use a direct hardware interface.</p>
<p><b>3.5  Safety Manual BswM</b></p>
<p><b>3.5.1  Safety features</b></p>
<p>This component does not provide safety features.</p>
<p><b>3.5.2  Configuration constraints</b></p>
<p>This component does not have configuration constraints.</p>
<p><b>3.5.3  Additional Verification measures</b></p>
<p>This component does not require additional verification measures.</p>
<p><b>3.5.4  Dependencies to other components</b></p>
<p><b>3.5.4.1  Safety features required from other components</b></p>
<p>This component does not require safety features from other components.</p>
<p><b>3.5.4.2  Coexistence with other components</b></p>
<p>ID: SMI-55</p>
<p> </p>
<p><b>This component requires coexistence with Com, Det, Dem, Nm, RTE, NvM,</b></p>
<p><b>PduR, FrSm, Dcm, LinIf, LinSm, EcuM, CanSM, and ComM components if</b></p>
<p><b>the interface for those components is configured.</b></p>
<p><b>3.5.5  Dependencies to hardware</b></p>
<p>This component does not use a direct hardware interface.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>17 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3.6  Safety Manual MemIf</b></p>
<p><b>3.6.1  Safety features</b></p>
<p>This component does not provide safety features.</p>
<p><b>3.6.2  Configuration constraints</b></p>
<p>This component does not have configuration constraints.</p>
<p><b>3.6.3  Additional Verification measures</b></p>
<p>This component does not require additional verification measures.</p>
<p><b>3.6.4  Dependencies to other components</b></p>
<p><b>3.6.4.1  Safety features required from other components</b></p>
<p>This component does not require safety features from other components.</p>
<p><b>3.6.4.2  Coexistence with other components</b></p>
<p>ID: SMI-56</p>
<p> </p>
<p><b>This component requires coexistence with Det, Fee, and Ea components if</b></p>
<p><b>the interface for those components is configured.</b></p>
<p><b>3.6.5  Dependencies to hardware</b></p>
<p>This component does not use a direct hardware interface.</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>18 / 19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>4  Contact</b></p>
<p>Visit our website for more information on</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>News</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Products</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Demo software</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Support</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Training data</p>
<p>▪</p>
<p><b>&gt;</b></p>
<p>Addresses</p>
<p>www.vector.com</p>
<p>Draft</p>
<p>Safety Manual</p>
<p>© 2015, Vector Informatik GmbH</p>
<p>Version: Draft</p>
<p>19 / 19</p>
</body>
</html>
{% endraw %}